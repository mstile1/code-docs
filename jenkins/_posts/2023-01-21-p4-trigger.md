---
layout: post
title:  "Jenkins Perforce Trigger Troubleshooting"
author: Brad Fix
tags: network windows perforce
---

Setting this up has been more difficult than anticipated. Here are some notes and possible trouble shooting tips.

### Jenkins Build Settings
1. You may want to have a dedicated user added to Perforce for Jenkins. This likely isn't necessary.
2. Add a credential in Jenkins to enable p4 access.
 - click on global->Add Credentials
 - Kind: Perforce Password Credential
 - ID, Description: e.g. 'p4_access'
 - **P4Port must match the final http post**
 - Username/Password: can use jenkins p4 user login (or user with checkout privileges)
  <img src="/code-docs/assets/jk_credential.jpg" alt="jenkins cre" width="400" height="300"/>
3. In a build's configuration, these credentials are chosen for 'Perforce Software->Perforce Credentials'.
 - Make sure 'Perforce Triggered Build' is checked under 'Build Triggers'

### Jenkins user authorization
1. 
  <img src="/code-docs/assets/jk_apitoken.jpg" alt="jenkins cre" width="400" height="300"/>

### How to trigger